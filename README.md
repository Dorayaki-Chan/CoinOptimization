# 財布の小銭最適化(Coin Optimization)

## プロジェクトの内容(Project description)

### 概要(Overview)

自分のお財布の中が常に最適な状態になるよう手助けをしてくれるAndroidアプリです。

This is an Android app that helps you to keep your wallet in optimum condition.
```
Ex)
- 手持ち(Having): ￥113
- お会計(Buying): ￥108

- お支払い(Payment): ￥110, ￥113
- おつり(Change): ￥2😕, ￥5😍
```

<details>
  <summary>詳細(Description)</summary>
    このAndroidアプリはあなたの財布の中の小銭を常に最適な状態を保つ手助けをするツールです。
財布の中の小銭を最適な状態にするとはどういうことか？それは、両替可能な硬貨をお財布に残さないということです。具体例を上げて説明します。例えば、あなたはお財布に113円(100円玉1枚, 10円玉1枚, 1円玉3枚)持って買い物に行きます。レジで提示された会計金額は108円です。あなたはいくら支払いますか？何も考えずに手っ取り早く支払うには110円(100円玉1枚, 10円玉1枚)が良いでしょう。しかし、これでは会計後あなたのお財布には1円玉5枚が残ってしまい、非常に無駄が多いです。一方で113円(100円玉1枚, 10円玉1枚, 1円玉3枚)支払うのはどうでしょうか?おつりは5円玉1枚で、会計後のお財布にも5円玉1枚だけしかありません。あなたの財布は非常にすっきりしています。
私はこの支払い方を小銭最適化チャレンジと称し、毎度のお買い物の楽しみの一つにしています。
また近年、小銭を両替することに手数料がとられるようになってきています。現金ではなく、キャッシュレス決済で支払えばそれまでですが、キャッシュレス決済に抵抗がある人や現金で支払わなければならない状態になった際、この小銭最適化チャレンジは手数料を減らす一つの方法であるかもしれません。もし、全客がこの方法で支払った場合、お店はある大きな硬貨を必要とし、反対に1円玉のような小さな硬貨はあまり用意する必要はなくなると思います。そうすることで、客はお財布が常に管理しやすい状態になり、またお店は両替手数料が今よりかは減らせるようになるはずです。
私がこのアプリを制作しようと思ったきっかけは、会計の際、誤った計算をしながらもそれに気が付かずにしてやったりな顔をしてお会計をしたところ、店員さんにニヤニヤ笑われながら「100円余分ですよ」と返却され、大恥をかいた経験です。もう二度とこのような失態を起こさないためにも、暗算能力を強化することも考えましたが、最も手っ取り早い方法を考えた際に、お会計時に自動で算出するツールがあれば便利なのではないかと思い、この度、アプリ制作に踏み切りました。なぜAndroid アプリにしたのか？私はスマートフォンいわゆるスマホなるものを持っておらず、フィーチャー・フォン、いわゆるガラケーを愛機として使っています。また、お守り代わりにお下がりのAndroidスマートフォンを携帯しているのですが、それはSIMカードが入っておらず、一度外出すれば帰宅するまでインターネット回線につなげません。なので、Android OS且つオフライン環境で使用可能である必要があったので、この度はAndroidのアプリとしてツールを実装いたしました。
それでは、このアプリの使用方法です。APKファイルでの配布になりますので、ダウンロードしアプリをインストールしてください。アプリを立ち上げ、画面左側にあなたのお財布の事情を入力します。右上に会計金額を入力し、画面中央下方のボタンを押すことで支払金額並びに、その硬貨数が表示されます。いたってシンプルなアプリです。
次に注意事項です。財布に無駄な小銭がある場合は想定しておらず、不適切な計算結果になります。1円、10円、100円硬貨は最大4枚、5円、50円、500円硬貨は最大1枚の環境でのみ正しく動作します。
プロジェクト用に作成した各ファイルの内容とその機能です。MainActivity.javaではアプリ画面の処理を記述しています。activity_main.xmlではオブジェクトの配置の定義を行っています。colors.xmlでは使用する色情報を定義しております。strings.xmlでは使用する定数を定義しております。
動作確認はAndroid 5, 7, 9で確認しました。
今後の改良点として3点挙げられます。一つ目はアプリUIの改良です。今の状態では自分では使いやすいと思っていますが家族に試してもらったところ、初見ではわかりにくいという声しかありませんでした。今後UIの知識を深め見やすいデザインに改良したいと思います。二つ目は電卓のようなキーボードをあらかじめ配置するということです。私の使うAndroid端末は性能が低いためキーボードが出てくるまで数秒を要します。テキストエディタをタップするたびに、3秒程度のタイムロスが生じるのは非常に迷惑な話です。これを防ぐため、あらかじめキーボードをアプリ内に組み込みタイムロスを減らしたいと思う所存です。三つ目に、買い物リスト機能の追加です。レジに行くまでに会計金額を事前に算出できるよう、データベースを利用しカート内の商品の金額やアイテム名を保持し、アプリの別タブでそのデータベースを管理することで野菜のような値札のない商品の値段も把握でき、また会計金額をあらかじめ細かく把握でき、事前に支払金額を用意できるためお会計を素早く済ませることが可能になると考えています。


    
</details>






### プロジェクト用に作成した各ファイルの内容とその機能(The contents of each file created for the project and its function)

- MainActivity.java
    > アプリ画面の処理を記述しています。

    > Describes the processing of the application screen.

- activity_main.xml
    > オブジェクトの配置を定義しています。

    > Defines the placement of the object.

- colors.xml
    > 使用する色を定義しています。

    > Defines the colours to be used.

- strings.xml
    > 使用する定数を定義しています。

    > Defines the constants to be used.

### 注意事項(Points to note)
財布に無駄な小銭がある場合は不適切な計算結果になります。1円、10円、100円硬貨は最大4枚、5円、50円、500円硬貨は最大1枚の環境でのみ正しく動作します。

It will only work correctly in an environment with a maximum of four 1 yen, 10 yen and 100 yen coins and a maximum of one 5 yen, 50 yen and 500 yen coin.

<img src="https://user-images.githubusercontent.com/80265368/155042111-cdfb59aa-e97b-41b3-94e2-b3d993fd1e1c.png" width="320px">



### 動作確認済み環境(Tested environment)

    - Android 5
    - Android 7
    - Android 9

## 参考文献(References)

- [財布の小銭の最適化その2](http://takeno.iee.niit.ac.jp/~shige/math/lecture/misc/data/kozeni2.pdf)
